@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    :root {
        --font-sans:
            "Inter", "Noto Sans SC", "PingFang SC", "Segoe UI",
            "Helvetica Neue", Arial, sans-serif;

        --background: 220 23% 97%;
        --foreground: 220 33% 16%;

        --muted: 220 16% 92%;
        --muted-foreground: 220 15% 40%;

        --popover: 0 0% 100%;
        --popover-foreground: 220 33% 16%;

        --card: 0 0% 100%;
        --card-foreground: 220 33% 16%;

        --border: 214 24% 80%;
        --input: 214 24% 80%;

        --primary: 217 91% 60%;
        --primary-foreground: 210 40% 98%;

        --secondary: 220 16% 94%;
        --secondary-foreground: 220 33% 16%;

        --accent: 217 90% 66%;
        --accent-foreground: 210 40% 98%;

        --destructive: 0 73% 52%;
        --destructive-foreground: 210 40% 98%;

        --ring: 217 91% 60%;

        --radius: 0.75rem;
    }

    .dark {
        --background: 217 33% 10%;
        --foreground: 214 32% 92%;

        --muted: 217 22% 18%;
        --muted-foreground: 217 15% 70%;

        --popover: 217 33% 14%;
        --popover-foreground: 214 32% 92%;

        --card: 217 33% 14%;
        --card-foreground: 214 32% 92%;

        --border: 217 24% 24%;
        --input: 217 24% 24%;

        --primary: 217 91% 65%;
        --primary-foreground: 214 32% 12%;

        --secondary: 217 24% 20%;
        --secondary-foreground: 214 32% 92%;

        --accent: 217 91% 65%;
        --accent-foreground: 214 32% 12%;

        --destructive: 0 70% 58%;
        --destructive-foreground: 214 32% 12%;

        --ring: 217 91% 65%;
    }

    * {
        @apply border-border;
    }

    body {
        font-family: var(--font-sans);
        @apply min-h-screen bg-background text-foreground antialiased text-base leading-relaxed;
    }
}

/* Duplicate field name highlight */
.htDuplicateFieldName {
    background-color: #fff3bf !important; /* yellow-ish */
}

/* Reserved keyword highlight (use a light red) */
.htReservedKeyword {
    background-color: #ffe3e3 !important;
}

/* Table readability */
.handsontable td,
.handsontable th {
    padding: 0.5rem 0.75rem !important;
    line-height: 1.5 !important;
    font-size: 0.95rem !important;
}

.handsontable .handsontableInput {
    font-family: var(--font-sans);
    font-size: 0.95rem;
}

.handsontable .htCore col {
    border-color: hsl(var(--border));
}

/* Fix: ensure HOT dropdown/autocomplete editors render above grid cells */
.handsontable.autocompleteEditor,
.handsontable .htSelectEditor {
    position: absolute !important;
    z-index: 1060 !important; /* above clones and cells; similar to context menu */
}
.handsontable.autocompleteEditor {
    margin-top: 2px;
}
.handsontable.autocompleteEditor {
    min-height: 112px;
}
.handsontable.autocompleteEditor .wtHolder {
    min-height: 112px;
    max-height: 280px;
    overflow: auto;
}
.handsontable .htSelectEditor select {
    position: absolute !important;
    z-index: 1061 !important;
}
